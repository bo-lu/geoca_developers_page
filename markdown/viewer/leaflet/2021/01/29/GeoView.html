<!DOCTYPE html>
<html class="no-js" lang="en" dir="">
<head>
<meta charset="utf-8">
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
<title>An overview of Viewer technology used in the CGP - Canada.ca</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta name="description" content=" " />
<link href="https://wet-boew.github.io/themes-dist/GCWeb/assets/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="stylesheet" href="https://wet-boew.github.io/themes-dist/GCWeb/css/theme.css" />
<noscript><link rel="stylesheet" href="https://wet-boew.github.io/themes-dist/wet-boew/css/noscript.css" /></noscript><link rel="stylesheet" href="" />
</head>
<body vocab="http://schema.org/" typeof="WebPage">

<nav><ul id="wb-tphp">
	<li class="wb-slc"><a class="wb-sl" href="#wb-cont">Passer au contenu principal</a></li><li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Passer à «&#160;À propos de ce site&#160;»</a></li></ul></nav>

<header>
	<div id="wb-bnr" class="container">
		<div class="row">
			
			<div class="brand col-xs-9 col-sm-5 col-md-4" property="publisher" typeof="GovernmentOrganization">
	<a href="#" property="url">
		<img src="https://wet-boew.github.io/themes-dist/GCWeb/assets/sig-blk-fr.svg" alt="Gouvernement du Canada" property="logo" /><span class="wb-inv"> / <span lang="en">Government of Canada</span></span>
	</a>
	<meta property="name" content="Gouvernement du Canada">
	<meta property="areaServed" typeof="Country" content="Canada" />
	<link property="logo" href="https://wet-boew.github.io/themes-dist/assets/wmms-blk.svg" />
</div>

			
<section id="wb-srch" class="col-lg-offset-4 col-md-offset-4 col-sm-offset-2 col-xs-12 col-sm-5 col-md-4">
	<h2>Recherche</h2>
	<form action="#" method="post" name="cse-search-box" role="search">
		<div class="form-group wb-srch-qry">
			<label for="wb-srch-q" class="wb-inv">Rechercher dans Canada.ca</label>
			<input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Rechercher dans Canada.ca" />
			<datalist id="wb-srch-q-ac"></datalist>
		</div>
		<div class="form-group submit">
			<button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub">
				<span class="glyphicon-search glyphicon"></span>
				<span class="wb-inv">Recherche</span>
			</button>
		</div>
	</form>
</section>

		</div>
	</div><nav class="gcweb-menu" typeof="SiteNavigationElement">
	<div class="container">
		<h2 class="wb-inv">Menu</h2>
		<button type="button" aria-haspopup="true" aria-expanded="false">Menu<span class="wb-inv"> principal</span> <span class="expicon glyphicon glyphicon-chevron-down"></span></button>
		<ul role="menu" aria-orientation="vertical" data-ajax-replace="https://www.canada.ca/content/dam/canada/sitemenu/sitemenu-v2-fr.html"><li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/emplois.html">Emplois et milieu de travail</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/immigration-citoyennete.html">Immigration et citoyenneté</a></li>
			<li role="presentation"><a role="menuitem" href="https://voyage.gc.ca/">Voyage et tourisme</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/entreprises.html">Entreprises et industrie</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/prestations.html">Prestations</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/sante.html">Santé</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/impots.html">Impôts</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/environnement.html">Environnement et ressources naturelles</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/defense.html">Sécurité nationale et défense</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/culture.html">Culture, histoire et sport</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/police.html">Services de police, justice et urgences</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/transport.html">Transport et infrastructure</a></li>
			<li role="presentation"><a role="menuitem" href="https://international.gc.ca/world-monde/index.aspx?lang=fra">Canada et le monde</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/finance.html">Argent et finances</a></li>
			<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/science.html">Science et innovation</a></li></ul>
	</div>
</nav>

<nav id="wb-bc" property="breadcrumb">
	<h2>Vous êtes ici :</h2>
	<div class="container">
		<ol class="breadcrumb">
			<li>
			  <a href="/index-.html">Canada.ca - Accueil</a>
			</li></ol>
	</div>
</nav>

</header>

<main class="container" property="mainContentOfPage" resource="#wb-main" typeof="WebPageElement">
<h1 id="wb-cont" property="name">An overview of Viewer technology used in the CGP</h1>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">An overview of Viewer technology used in the CGP</h1><p class="page-description">Viewer technology used in the CGP</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-01-29T00:00:00-06:00" itemprop="datePublished">
        Jan 29, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/geoca_developers_page/categories/#markdown">markdown</a>
        &nbsp;
      
        <a class="category-tags-link" href="/geoca_developers_page/categories/#viewer">viewer</a>
        &nbsp;
      
        <a class="category-tags-link" href="/geoca_developers_page/categories/#leaflet">leaflet</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/bo-lu/geoca_developers_page/tree/master/_posts/2021-01-29-GeoView.md" role="button" target="_blank">
<img class="notebook-badge-image" src="/geoca_developers_page/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/bo-lu/geoca_developers_page/master?filepath=" target="_blank">
        <img class="notebook-badge-image" src="/geoca_developers_page/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/bo-lu/geoca_developers_page/blob/master/" target="_blank">
        <img class="notebook-badge-image" src="/geoca_developers_page/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#geoview">GeoView</a>
<ul>
<li class="toc-entry toc-h2"><a href="#viewer-technology-used-in-the-cgp">Viewer technology used in the CGP</a></li>
<li class="toc-entry toc-h2"><a href="#solution">Solution</a></li>
<li class="toc-entry toc-h2"><a href="#developpement">Developpement</a></li>
<li class="toc-entry toc-h2"><a href="#building-the-project">Building the project</a></li>
<li class="toc-entry toc-h2"><a href="#deploy-to-gh-pages">Deploy to gh-pages</a></li>
<li class="toc-entry toc-h2"><a href="#usage">Usage</a>
<ul>
<li class="toc-entry toc-h4"><a href="#parameters">Parameters</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#contributing-to-the-project">Contributing to the project</a></li>
</ul>
</li>
</ul><h1 id="geoview">
<a class="anchor" href="#geoview" aria-hidden="true"><span class="octicon octicon-link"></span></a>GeoView</h1>

<h2 id="viewer-technology-used-in-the-cgp">
<a class="anchor" href="#viewer-technology-used-in-the-cgp" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewer technology used in the CGP</h2>

<p>The Canadian Geospatial Platform intends to deploy new infrastructure, tools and web integration of GeoCore, a new geospatial metadata lake library capable of supporting multiple metadata standards. In recognition of these desired capabilities, it needs a lightweight viewer to incorporate in their infrastructure. The need is to have a simple and flexible viewer to display geospatial data from GeoCore metadata lake on a map with limited functionalities.</p>

<p><a href="https://jolevesq.github.io/GeoView/index.html">Demo</a></p>

<h2 id="solution">
<a class="anchor" href="#solution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Solution</h2>

<p>GeoView mapping capabilites are based on <a href="https://github.com/Leaflet/Leaflet">Leafet</a> open source viewer. The overall project uses the latest <a href="https://reactjs.org/">React</a> framework version 17+. With this in mind, here is the list of the main dependencies</p>
<ul>
  <li>
<a href="https://react-leaflet.js.org/">react-leaflet</a> version 3+ to make the link between Leafelt and React</li>
  <li>
<a href="https://www.i18next.com/">i18next</a> to do localization in English and French</li>
  <li>
<a href="https://material-ui.com/">material-ui</a> to do the layout</li>
</ul>

<h2 id="developpement">
<a class="anchor" href="#developpement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Developpement</h2>

<p>Developement is made with <a href="https://code.visualstudio.com/">Visual Studio Code</a> and uses few extentions to help linting and formating</p>
<ul>
  <li>Prettier</li>
  <li>ESLint</li>
  <li>Better Comments</li>
</ul>

<h2 id="building-the-project">
<a class="anchor" href="#building-the-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building the project</h2>

<p>To install the project, just run
<code class="language-plaintext highlighter-rouge">npm install</code></p>

<p>To serve the project, just run
<code class="language-plaintext highlighter-rouge">npm run serve</code> and GeoView will be serve from http://localhost:8080/</p>

<h2 id="deploy-to-gh-pages">
<a class="anchor" href="#deploy-to-gh-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deploy to gh-pages</h2>

<p>To deploy the project, just run
<code class="language-plaintext highlighter-rouge">npm run build</code></p>

<p>Then push the dist folder to your gh-pages
<code class="language-plaintext highlighter-rouge">npm run deploy</code></p>

<p>The project is now serve inside your GitHub gh-pages at
`https://[GITHUB-USERNAME].github.io/GeoView/index.html</p>

<p><em>Make sure GitHub Pages are active inside your origin repository</em></p>

<h2 id="usage">
<a class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>We’ll go through the simplest way to use the Canadian Geospatial Platform Viewer.</p>

<p>First, grab the most recent release from the <a href="https://github.com/Canadian-Geospatial-Platform/GeoView/releases">github releases</a>. Place the files cgpv-main.js and cgpv-styles.css within your webpage’s folder structure. Place also the img and locales folder at the same place. We usually put.</p>

<p>Then you want to include those files on your page</p>

<p>Within head</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/cgpv-styles.css"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>Near the end of the body</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/cgpv-main.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>Now that you have the required files on your page we should add the map element. There is 3 ways to do this</p>
<ul>
  <li>Map div element
    <div class="language-html highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"mapLCC"</span> <span class="na">class=</span><span class="s">"llwp-map"</span> <span class="na">data-leaflet=</span><span class="s">"{ 'projection': 3978, 'zoom': 12, 'center': [45,-75], 'language': 'fr-CA', layers:[] }"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
<em>Work in progress</em> -&gt; Url: The url will have parameters to setup the map. The map div, a div element with class <strong>llwp-map</strong>, must be on the page
    <div class="language-html highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"mapLCC"</span> <span class="na">class=</span><span class="s">"llwp-map"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
<em>Work in progress</em> -&gt; Code: call the create map function from cgpv-main.js with needed parameters</li>
</ul>

<h4 id="parameters">
<a class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>
<ul>
  <li>projection: The basemap projection to use for the map. Accepted values are 3857 (Web Mercator) or 3978 (LCC)</li>
  <li>zoom: The basemap zomm level. Accepted value is a number between 0 and 20</li>
  <li>center: The default center extent when the map loads. Accepted value is a pair of coordinates [lattitude, longitude]</li>
  <li>language: The map language for labels and tooltips. Accepted values are en-CA and fr-CA</li>
  <li>layers: Array of layers to add to the map
    <ul>
      <li>url: The service url</li>
      <li>type: The layer type. Accepted values are esriFeature, esriDynamic, ogcWMS</li>
      <li>entries: For esriDynamic and ogcWMS a list of entries must be specified</li>
    </ul>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>      'layers':[
          { 'url': 'https://webservices.maps.canada.ca/arcgis/services/StatCan/census_subdivisions_2016_en/MapServer/WMSServer', 'type': 'ogcWMS', 'entries': '0' },
          { 'url': 'https://geoappext.nrcan.gc.ca/arcgis/rest/services/NRCAN/Investing_Energy_Canada_en/MapServer', 'type': 'esriDynamic', 'entries': '0, 2' },
          { 'url': 'https://geoappext.nrcan.gc.ca/arcgis/rest/services/GSCC/Geochronology/MapServer', 'type': 'esriDynamic', 'entries': '0' },
          { 'url': 'https://geo.weather.gc.ca/geomet', 'type': 'ogcWMS', 'entries': 'RAQDPS-FW.CE_PM2.5-DIFF-YAvg' }
      ]
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="contributing-to-the-project">
<a class="anchor" href="#contributing-to-the-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing to the project</h2>
<p>see our <a href="https://github.com/Canadian-Geospatial-Platform/GeoView/wiki/Contributing-Guideline">wiki</a></p>

  </div><a class="u-url" href="/geoca_developers_page/markdown/viewer/leaflet/2021/01/29/GeoView.html" hidden></a>
</article>

<div class="pagedetails">
	<div class="row">
		<div class="col-sm-6 col-md-5 col-lg-4">
			<details class="brdr-0">
				<summary class="btn btn-default text-center">Signaler un problème sur cette page</summary>
				<div class="well row"><div class="gc-rprt-prblm">
	<div class="gc-rprt-prblm-frm gc-rprt-prblm-tggl">
		<form action="#">
			<fieldset>
				<legend><span class="field-name">Veuillez cocher toutes les réponses pertinentes&nbsp;:</span></legend>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f1">
						<input type="checkbox" name="problem1" value="Oui" id="gc-rprt-prblm-f1" />Un lien, un bouton ou une vidéo ne fonctionne pas
					</label>
					<input name="problem1" type="hidden" value="Non" />
				</div>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f2">
						<input type="checkbox" name="problem2" value="Oui" id="gc-rprt-prblm-f2" />Il y a une erreur d'orthographe ou de grammaire
					</label>
					<input name="problem2" type="hidden" value="Non" />
				</div>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f3">
						<input type="checkbox" name="problem3" value="Oui" id="gc-rprt-prblm-f3" />Les renseignements sont incomplets
					</label>
					<input name="problem3" type="hidden" value="Non" />
				</div>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f4">
						<input type="checkbox" name="problem4" value="Oui" id="gc-rprt-prblm-f4" />L'information n'est plus à jour ou est erronée
					</label>
					<input name="problem4" type="hidden" value="Non" />
				</div>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f5">
						<input type="checkbox" name="problem5" value="Oui" id="gc-rprt-prblm-f5" />Je n'arrive pas à trouver ce que je cherche
					</label>
					<input name="problem5" type="hidden" value="Non" />
				</div>
				<div class="checkbox">
					<label for="gc-rprt-prblm-f6">
						<input type="checkbox" name="problem6" value="Oui" id="gc-rprt-prblm-f6" />Autre problème qui ne figure pas sur cette liste
					</label>
					<input name="problem6" type="hidden" value="Non" />
				</div>
			</fieldset>
			<button type="submit" class="btn btn-primary wb-toggle" data-toggle='{"stateOff": "hide", "stateOn": "show", "selector": ".gc-rprt-prblm-tggl"}'>Soumettre</button>
		</form>
	</div>
	<div class="gc-rprt-prblm-thnk gc-rprt-prblm-tggl hide">
		<h3>Merci de votre aide!</h3>
		<p>Vous ne recevrez pas de réponse. Pour toute question, s’il vous plaît <a href="https://www.canada.ca/fr/contact.html">contactez-nous</a>.</p>
		
	</div>
</div>
</div>
			</details>
		</div></div>
	<dl id="wb-dtmd">
		<dt>Date de modification&#160;:</dt>
		<dd><time property="dateModified"></time></dd>
	</dl>
</div>


</main>
<footer id="wb-info">

	<div class="landscape">
		<nav class="container wb-navcurr">
			<h2 class="wb-inv">Au sujet du gouvernement</h2>
			<ul class="list-unstyled colcount-sm-2 colcount-md-3"><li><a href="https://www.canada.ca/fr/contact.html">Contactez-nous</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/min.html">Ministères et organismes</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/fonctionpublique.html">Fonction publique et force militaire</a></li>
				<li><a href="https://www.canada.ca/fr/nouvelles.html">Nouvelles</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/systeme/lois.html">Traités, lois et règlements</a></li>
				<li><a href="https://www.canada.ca/fr/transparence/rapports.html">Rapports à l'échelle du gouvernement</a></li>
				<li><a href="https://pm.gc.ca/fra">Premier ministre}}</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/systeme.html">Comment le gouvernement fonctionne</a></li>
				<li><a href="https://ouvert.canada.ca/">Gouvernement ouvert</a></li></ul>
		</nav>
	</div>

	<div class="brand">
	<div class="container">
		<div class="row ">
			<nav class="col-md-9 col-lg-10 ftr-urlt-lnk">
				<h2 class="wb-inv">À propos de ce site</h2>
				<ul><li><a href="https://www.canada.ca/fr/sociaux.html">Médias sociaux</a></li>
					<li><a href="https://www.canada.ca/fr/mobile.html">Applications mobiles</a></li>
					<li><a href="https://www1.canada.ca/fr/nouveausite.html">À propos de Canada.ca</a></li>
					<li><a href="https://www.canada.ca/fr/transparence/avis.html">Avis</a></li>
					<li><a href="https://www.canada.ca/fr/transparence/confidentialite.html">Confidentialité</a></li></ul>
			</nav>
			<div class="col-xs-6 visible-sm visible-xs tofpg">
				<a href="#wb-cont">Haut de la page <span class="glyphicon glyphicon-chevron-up"></span></a>
			</div>
			<div class="col-xs-6 col-md-3 col-lg-2 text-right">
				<img src="https://wet-boew.github.io/themes-dist/GCWeb/assets/wmms-blk.svg" alt="Symbole du gouvernement du Canada" />
			</div>
		</div>
	</div>
</div>
</footer>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha384-rY/jv8mMhqDabXSo+UCggqKtdmBfd3qC2/KvyTDNQ6PcUJXaxK1tMepoQda4g5vB" crossorigin="anonymous"></script>
<script src="https://wet-boew.github.io/wet-boew/wet-boew/js/wet-boew.min.js"></script>
<script src="https://wet-boew.github.io/themes-dist/GCWeb/js/theme.min.js"></script><script src=""></script>
</body>
</html>
